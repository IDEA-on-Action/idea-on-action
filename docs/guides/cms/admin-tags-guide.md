# AdminTags 관리 가이드

## 개요

### 목적

AdminTags 페이지는 전체 CMS에서 사용되는 태그를 관리하는 관리자 전용 페이지입니다. 태그는 블로그 포스트, 프로젝트, 실험실 바운티 등 다양한 콘텐츠에 적용되어 사용자가 관심 있는 내용을 쉽게 찾을 수 있도록 돕습니다.

### 주요 기능

- 태그 목록 조회 및 검색
- 새 태그 추가 (Create)
- 기존 태그 수정 (Update)
- 태그 삭제 (Delete)
- 카테고리별 필터링 (General, Technical, Business)
- 사용 횟수별 필터링 (미사용, 저사용, 고사용)
- 통계 카드 (전체 개수, 미사용 개수, 인기 태그 개수, 총 사용 횟수)
- 사용 횟수 자동 추적 및 표시

### 접근 권한

- **필요 권한**: Admin 이상 (editor, admin, super_admin)
- **접근 경로**: `/admin/tags`

---

## 화면 구성

### 상단 영역

- **페이지 제목**: "Tags"
- **설명**: "Manage global tags across all content"
- **새 태그 추가 버튼**: "New Tag" 버튼 (우측 상단)
- **새로고침 버튼**: 목록 새로고침 (우측 상단, 원 아이콘)

### 통계 카드 (4개 컬럼 레이아웃)

4개의 카드에 다음 정보가 표시됩니다:

| 카드 | 설명 | 용도 |
|------|------|------|
| **Total Tags** | 등록된 모든 태그의 개수 | 태그 관리 규모 파악 |
| **Unused** | 사용 횟수가 0인 태그의 개수 | 불필요한 태그 정리 대상 확인 |
| **Popular (10+ uses)** | 사용 횟수 10회 이상의 인기 태그 개수 | 인기 카테고리 파악 |
| **Total Uses** | 모든 태그의 누적 사용 횟수 | 태그 활용도 전체 지표 |

### 검색 및 필터 영역

#### 검색창
- **검색 항목**: 태그 이름, Slug, 설명으로 검색
- **실시간 필터링**: 입력과 동시에 결과 업데이트
- **플레이스홀더**: "Search tags..."

#### 카테고리 필터
- **All Categories**: 모든 카테고리 표시 (기본값)
- **General**: 일반 주제 태그만 표시
- **Technical**: 기술 관련 태그만 표시
- **Business**: 비즈니스 관련 태그만 표시

#### 사용 횟수 필터
- **All Usage**: 모든 태그 표시 (기본값)
- **Unused (0)**: 사용 횟수 0인 태그만 표시
- **Low (1-10)**: 사용 횟수 1~10회인 태그만 표시
- **High (10+)**: 사용 횟수 10회 이상인 태그만 표시

### 태그 목록 테이블

6개 컬럼으로 모든 태그를 표시합니다:

| 컬럼 | 내용 | 기능 |
|------|------|------|
| **Name** | 태그 이름 (클릭 가능) | 클릭하여 수정 화면으로 이동 |
| **Slug** | 코드명 (kebab-case) | 시스템 내부에서 사용되는 고유 식별자 |
| **Category** | 태그 분류 | General/Technical/Business 뱃지로 표시 |
| **Usage** | 사용 횟수 | 뱃지로 표시 (미사용/저사용/고사용) |
| **Active** | 활성 상태 | ✓ (활성) / ✗ (비활성) |
| **Created** | 생성 날짜 | "2시간 전", "1주일 전" 등 상대 시간 표시 |

#### 행 작업
- 각 행의 우측에 수정(✎), 삭제(🗑) 아이콘 버튼이 표시됩니다.

### 빈 상태 메시지

태그가 없을 때:
- **메시지**: "No tags found"
- **설명**: "Create your first tag to get started"

---

## 기능 사용법

### 1. 조회

#### 목록 조회

1. `/admin/tags` 페이지에 접속합니다.
2. 등록된 모든 태그가 테이블로 표시됩니다.
3. 각 태그의 이름, Slug, 카테고리, 사용 횟수, 생성 날짜를 한눈에 확인할 수 있습니다.
4. 통계 카드에서 전체 태그 관리 현황을 파악할 수 있습니다.

#### 검색

1. 상단 검색창에 태그 이름, Slug, 또는 설명의 일부를 입력합니다.
2. 입력과 동시에 실시간으로 필터링됩니다.
3. 검색은 대소문자 구분 없이 동작합니다.
4. 검색어를 지우면 전체 목록이 다시 표시됩니다.

**예시**:
- "react" 검색 → "React Query", "React Router" 등 포함된 태그 표시
- "typescript" 검색 → "TypeScript", "Type Safety" 등 포함된 태그 표시

#### 카테고리별 필터링

1. "Category" 드롭다운에서 원하는 카테고리를 선택합니다.
2. 선택한 카테고리의 태그만 목록에 표시됩니다.

**카테고리 예시**:
- **General**: "아이디어", "협업", "커뮤니티", "개발 프로세스"
- **Technical**: "React", "TypeScript", "Node.js", "시스템 디자인"
- **Business**: "마케팅", "제품 관리", "스타트업", "비용 최적화"

#### 사용 횟수별 필터링

1. "Usage" 드롭다운에서 원하는 범위를 선택합니다.
2. 선택한 사용 횟수 범위의 태그만 목록에 표시됩니다.

**필터 옵션 설명**:
- **All Usage (기본값)**: 모든 태그 표시
- **Unused (0)**: 아직 사용되지 않은 태그 (태그 정리 대상)
- **Low (1-10)**: 가끔 사용되는 태그
- **High (10+)**: 자주 사용되는 인기 태그

#### 필터 조합

검색 + 카테고리 + 사용 횟수 필터를 동시에 적용할 수 있습니다.

**예시**:
- 검색어: "react", 카테고리: "Technical", 사용 횟수: "High (10+)"
  → "react" 검색어가 포함되고, 기술 카테고리이며, 10회 이상 사용된 태그만 표시

---

### 2. 생성

#### 새 태그 추가 버튼

1. 우측 상단의 "New Tag" 버튼을 클릭합니다.
2. "Create a new tag" 모달 다이얼로그가 열립니다.

#### 폼 작성 - 기본 정보 (Basic Information) 섹션

##### 이름 입력

1. **Name** 필드에 태그 이름을 입력합니다.
2. 최소 2자 이상, 최대 50자 이하로 입력해야 합니다.
3. **예시**: "React Query", "TypeScript", "마케팅"

##### Slug 자동 생성 또는 수동 입력

1. **Slug** 필드는 영문 소문자, 숫자, 하이픈(-)만 사용할 수 있습니다.
2. **자동 생성 방법**:
   - 이름을 입력하고 다른 필드를 클릭하면 자동으로 Slug가 생성됩니다.
   - 또는 **"Generate"** 버튼을 클릭하면 현재 입력한 이름으로 Slug가 생성됩니다.
3. **수동 입력 방법**:
   - 필드를 직접 수정하여 원하는 형식으로 변경할 수 있습니다.

**예시**:
- 이름: "React Query" → 자동 Slug: "react-query"
- 이름: "TypeScript" → 자동 Slug: "typescript"

##### 카테고리 선택

1. **Category** 드롭다운에서 적절한 카테고리를 선택합니다.
2. 3가지 옵션 중 하나를 반드시 선택해야 합니다:
   - **General**: 일반 주제
   - **Technical**: 기술 관련
   - **Business**: 비즈니스 관련

#### 폼 작성 - 상세 정보 (Details) 섹션

##### 설명 입력

1. **Description** 필드에 태그에 대한 설명을 입력합니다.
2. 선택 항목이므로 비워도 됩니다.
3. 최대 500자까지 입력할 수 있습니다.
4. **문자 개수 표시**: 입력 시 현재 문자 개수와 최대 개수가 표시됩니다 (예: "123/500").

**예시**:
- "React 상태 관리 라이브러리로 서버 상태를 효율적으로 관리합니다."
- "타입 안정성을 제공하는 JavaScript 슈퍼셋 언어"

##### 활성 상태 설정

1. **Active** 스위치를 토글하여 활성/비활성을 설정합니다.
2. **기본값**: 활성 (On)
3. 활성 상태일 때: "Active - This tag is visible to the public"
4. 비활성 상태일 때: "Inactive - This tag is hidden from public pages"

#### 저장

1. 모든 필수 항목(이름, Slug, 카테고리)을 입력합니다.
2. **"Create"** 버튼을 클릭합니다.
3. 저장 중: 버튼이 비활성화되고 로딩 상태 표시
4. 저장 완료:
   - 토스트 메시지: "Tag created successfully"
   - 모달이 닫히고 목록에 새 태그가 추가됨
5. 저장 실패:
   - 토스트 메시지: "Failed to save tag: [오류 내용]"
   - 오류 메시지가 폼에 표시됨

#### 폼 검증 규칙

| 필드 | 규칙 | 오류 메시지 |
|------|------|-----------|
| Name | 필수, 2~50자 | "Name must be at least 2 characters" |
| Slug | 필수, 2~100자, kebab-case | "Slug must be lowercase, numbers, and hyphens only" |
| Category | 필수 (General/Technical/Business) | (폼에서 기본값 제공) |
| Description | 선택, 최대 500자 | (자동 자르기) |
| Active | 기본값 true | (자동 설정) |

---

### 3. 수정

#### 수정 시작

1. 목록 테이블에서 수정하려는 태그의 **이름을 클릭**하거나 **수정 아이콘(✎)**을 클릭합니다.
2. "Edit Tag" 모달이 열리고 현재 값이 폼에 채워집니다.

#### 수정 가능한 항목

모든 필드를 수정할 수 있습니다:
- 이름 (Name)
- Slug
- 카테고리 (Category)
- 설명 (Description)
- 활성 상태 (Active)

#### 수정 불가능한 항목

다음 항목은 자동으로 관리되며 수정할 수 없습니다:
- **ID**: 태그의 고유 식별자
- **Usage Count**: 현재 태그의 사용 횟수 (읽기 전용, 자동 계산)
  - 편집 모드에서만 현재 사용 횟수를 표시하는 박스가 나타남
  - 예: "This tag is used in 15 items (auto-managed)"
- **Created Date**: 태그 생성 날짜

#### 수정 프로세스

1. 폼에서 수정하려는 항목의 값을 변경합니다.
2. **"Update"** 버튼을 클릭합니다.
3. 저장 중: 버튼이 비활성화되고 로딩 상태 표시
4. 저장 완료:
   - 토스트 메시지: "Tag updated successfully"
   - 모달이 닫히고 목록이 자동 새로고침됨
5. 저장 실패:
   - 토스트 메시지: "Failed to save tag: [오류 내용]"
   - 오류 메시지가 폼에 표시됨

---

### 4. 삭제

#### 삭제 시작

1. 목록 테이블에서 삭제하려는 태그의 **삭제 아이콘(🗑)**을 클릭합니다.
2. 삭제 확인 다이얼로그가 표시됩니다.

#### 삭제 확인

1. 확인 메시지: "Are you sure you want to delete this tag?"
2. **삭제 전 주의사항**:
   - 삭제된 데이터는 복구할 수 없습니다.
   - 이 태그가 현재 사용 중인 콘텐츠에서는 태그가 제거됩니다.
3. **"Yes"** 버튼을 클릭하여 확인합니다.
4. 취소하려면 **"No"** 또는 다이얼로그 외부를 클릭합니다.

#### 삭제 프로세스

1. 확인 버튼 클릭 후 삭제 진행
2. 삭제 중: "삭제 중..." 메시지 표시
3. 삭제 완료:
   - 토스트 메시지: "Tag deleted successfully"
   - 목록에서 해당 태그가 제거됨
   - 통계 카드가 자동으로 업데이트됨
4. 삭제 실패:
   - 토스트 메시지: "Failed to delete tag: [오류 내용]"

---

## 필드 설명

### 상세 필드 정보

| 필드명 | 타입 | 필수 여부 | 제약사항 | 설명 |
|--------|------|---------|---------|------|
| **Name** | Text | 필수 | 2~50자 | 태그의 표시 이름 (사용자가 보는 이름) |
| **Slug** | Text | 필수 | 2~100자, kebab-case | 시스템 내부에서 사용되는 고유 식별자 (URL, API에서 사용) |
| **Category** | Enum | 필수 | General / Technical / Business | 태그의 분류 |
| **Description** | Text | 선택 | 최대 500자 | 태그에 대한 설명 (검색에 포함됨) |
| **Usage Count** | Number | 자동 | 읽기 전용 | 현재 태그가 콘텐츠에서 사용된 횟수 (자동 계산) |
| **Active** | Boolean | 필수 | true / false | 태그가 공개 페이지에 표시될지 여부 (기본값: true) |
| **Created At** | Timestamp | 자동 | 읽기 전용 | 태그 생성 날짜 및 시간 (자동 설정) |

---

## 카테고리 가이드

### General (일반)

**목적**: 일반적인 주제와 비즈니스 운영 관련 콘텐츠

**예시 태그**:
- "협업" (Collaboration)
- "문화" (Culture)
- "개발 프로세스" (Development Process)
- "커뮤니티" (Community)
- "아이디어" (Ideas)

### Technical (기술)

**목적**: 기술적 주제와 개발 스택 관련 콘텐츠

**예시 태그**:
- "React" / "React Query" / "React Router"
- "TypeScript"
- "Node.js" / "Express"
- "데이터베이스" / "PostgreSQL"
- "DevOps" / "Docker" / "CI/CD"

### Business (비즈니스)

**목적**: 비즈니스, 전략, 제품 관리 관련 콘텐츠

**예시 태그**:
- "마케팅" (Marketing)
- "제품 관리" (Product Management)
- "창업" (Startup)

---

## 사용 횟수 추적

### 작동 원리

**자동 계산**: 태그를 적용한 콘텐츠의 수를 자동으로 계산하여 usage_count를 업데이트합니다.

### Usage Badge 형태

#### 미사용 (0회)
- **배지**: "미사용" (회색 배지)
- **의미**: 현재 적용된 콘텐츠가 없음

#### 저사용 (1~10회)
- **배지**: 숫자 표시 (테두리 배지, 예: "5")
- **의미**: 적게 사용되는 태그

#### 고사용 (10회 이상)
- **배지**: 숫자 표시 (초록색 배지, 예: "23")
- **의미**: 자주 사용되는 인기 태그

---

## FAQ

### Q1: 태그와 카테고리의 차이는?

**A**: 태그와 카테고리는 다른 역할을 합니다.

- **카테고리**: 태그를 분류하는 상위 개념 (General, Technical, Business)
  - 관리자가 태그를 체계적으로 정리하기 위함

- **태그**: 콘텐츠에 적용되는 세부 레이블
  - 사용자가 콘텐츠를 찾기 위한 키워드

### Q2: 사용 횟수는 어떻게 계산되나요?

**A**: 사용 횟수는 자동으로 계산됩니다.

- 블로그 포스트에서 이 태그가 사용된 횟수
- 프로젝트에서 이 태그가 사용된 횟수
- 실험실 바운티에서 이 태그가 사용된 횟수

### Q3: 미사용 태그를 모두 삭제해야 하나요?

**A**: 아니요, 상황에 따라 결정하세요.

- **삭제 추천**: 오타로 만들어진 태그, 중복된 태그
- **유지 추천**: 신규로 준비 중인 콘텐츠의 태그

### Q4: Slug를 수정해도 괜찮나요?

**A**: 수정 시 주의가 필요합니다.

- Slug는 API, URL, 데이터베이스에서 참조되는 고유 식별자입니다
- 변경이 필요하다면 개발자에게 확인 후 진행

### Q5: 활성/비활성 태그는 어떻게 표시되나요?

**A**:

- **활성 (Active: true)**: "✓" 표시, 공개 페이지에서 사용자에게 표시됨
- **비활성 (Active: false)**: "✗" 표시, 공개 페이지에서 숨겨짐

### Q6: 태그 설명은 어디에 표시되나요?

**A**: 태그 설명은 여러 곳에서 활용됩니다.

- **관리자 페이지**: 목록 테이블에서 이름 아래에 회색 텍스트로 표시
- **검색**: 설명도 검색 대상에 포함됨
- **공개 페이지**: 일반적으로 표시되지 않음 (관리자용)

### Q7: 두 개 이상의 필터를 동시에 적용할 수 있나요?

**A**: 네, 가능합니다.

모든 필터를 동시에 적용할 수 있습니다:
- 검색어 입력
- 카테고리 선택
- 사용 횟수 범위 선택

### Q8: 태그 생성 후 즉시 적용할 수 있나요?

**A**: 네, 활성 태그는 바로 사용 가능합니다.

- 새 태그를 생성할 때 "Active"를 true (활성)로 설정하면 즉시 공개됨
- 블로그, 프로젝트 등의 콘텐츠에 바로 적용 가능

---

## 팁 & 트릭

### 1. 태그 검색 팁

**빠른 검색**:
- 정확한 이름 몇 글자만 입력해도 검색됨

### 2. 태그 네이밍 규칙 제안

**일관성 있는 네이밍**:
- 같은 분야는 같은 형식 사용
- 한글 태그는 모두 한글로

### 3. 카테고리 최적화

**명확한 카테고리 선택**:
- 기술 라이브러리 → Technical
- 비즈니스 개념 → Business
- 그 외 → General

### 4. 활성/비활성 활용

**비활성 사용 사례**:
- 신규 태그 준비: 콘텐츠 작성 후 활성화
- 레거시 태그: 기존 콘텐츠는 유지하되, 새 콘텐츠에는 불가

### 5. 필터 조합 활용

**분석 시나리오**:
1. **인기 기술 확인**: Category: Technical → Usage: High (10+)
2. **정리 대상**: Category: General → Usage: Unused (0)

---

## 문제 해결

### 문제 1: 새 태그가 저장되지 않음

**확인 사항**:
1. 필수 필드 확인:
   - Name (이름): 2자 이상 입력했는가?
   - Slug: 영문 소문자, 숫자, 하이픈만 사용했는가?
   - Category: 선택했는가?

2. 오류 메시지 확인

**해결 방법**:
- 필드 오류 메시지에 따라 수정
- Slug를 "Generate" 버튼으로 자동 생성

### 문제 2: 검색이 작동하지 않음

**원인**:
- 검색 대상 필드가 없음

**해결 방법**:
1. 검색창 입력 확인
2. 필터 상태 확인
3. 다른 필터 초기화 시도

### 문제 3: 태그 사용 횟수가 업데이트되지 않음

**설명**:
- 콘텐츠에 태그를 적용했는데 usage_count가 증가하지 않음

**해결 방법**:
1. 관리자 페이지에서 새로고침 버튼 클릭
2. 브라우저 새로고침

### 문제 4: 태그 삭제가 실패함

**원인**:
- 권한 부족 (Admin 이상 필요)
- 네트워크 오류

**해결 방법**:
1. 권한 확인
2. 네트워크 연결 확인
3. 다시 시도

### 문제 5: 태그 수정 후 변경사항이 반영되지 않음

**원인**:
- 브라우저 캐시
- 데이터 동기화 지연

**해결 방법**:
1. 새로고침 버튼 클릭
2. 브라우저 캐시 비우기

---

## 주의사항

### 데이터 일관성

1. **Slug의 고유성**:
   - Slug는 고유 식별자이므로 중복될 수 없습니다

2. **사용 중인 태그 삭제**:
   - 사용 중인 태그를 삭제하면 해당 콘텐츠에서 태그 참조가 제거됩니다

3. **활성/비활성 태그**:
   - 비활성 태그를 활성화하면 즉시 공개 페이지에 나타남

### 권한 관리

- **필요한 역할**: editor, admin, super_admin
- **anonymous 사용자**: 접근 불가 (로그인 필요)

---

## 요약

**AdminTags 페이지의 핵심 기능**:

| 작업 | 단계 |
|------|------|
| 태그 조회 | `/admin/tags` 접속 |
| 태그 검색 | 검색창 입력 |
| 태그 생성 | "New Tag" → 입력 → "Create" |
| 태그 수정 | 태그명 클릭 → 수정 → "Update" |
| 태그 삭제 | 삭제 아이콘 → 확인 |
| 필터링 | 카테고리/사용 횟수 선택 |

---

**다음 단계**:
- [Blog Categories 관리](./admin-blog-categories-guide.md)
- [Team Members 관리](./admin-team-guide.md)
- [Portfolio Projects 관리](./admin-portfolio-guide.md)
